Iraq’s prime minister, Haider al-Abadi, has declared victory over Islamic State forces in Mosul after nearly nine months of bitter fighting to displace the extremist group from the city where it proclaimed its “caliphate”.

Abadi, dressed in black military uniform, travelled to Mosul on Sunday to formally reclaim the devastated city, now a shadow of the thriving hub seized by extremists in 2014.

Thousands have died, nearly a million residents have fled, and swaths of the city have been reduced to ruins during the gruelling campaign, including the ancient al-Nuri mosque and minaret that were one of its best known landmarks.

Isis leader Abu Bakr al-Baghdadi declared a “caliphate” across Iraq and Syria from the historic mosque almost exactly three years ago. Isis forces blew it up last month in the final days of their retreat, apparently to deny Iraqi government forces the chance to hang the national flag from its minaret, a potent symbol of triumph.

Victory in Mosul is still both a strategic and symbolic milestone for Iraqi fighters backed by US-led coalition forces, however, and sparked celebrations across the country, including in Baghdad where proud and relieved Iraqis took to the streets, waving the national flag in exultation.

The city had been the last major urban stronghold Isis held in Iraq, and defeat there pushes the group back towards its insurgent roots, leaving the militants with just a handful of towns and stretches of sparsely populated desert under their control.

Abadi “congratulates the heroic fighters and the Iraqi people on the achievement of the major victory”, his office said in a statement released on Sunday while gunfire and airstrikes were still audible in Mosul.

He had already declared the effective end of Islamic State’s “state of falsehood” a week before, after security forces retook the al-Nuri mosque.

But Sunday’s announcement suggests the government believes Isis has been fully ousted from the last few hundred square metres of the old city, where the militants had holed up and held off government forces.

The French president, Emmanuel Macron, congratulated Iraqi pro-government troops and their allies for retaking control of the city, using a pejorative name for Isis.

“Mosul liberated from Daesh. Homage from France to all those, with our troops, who contributed to this victory,” Macron tweeted on Sunday.

A French armed forces spokesman said last week that French fighter jets had launched 600 airstrikes against Isis in support of Iraqi troops in Mosul.

The group had vowed to fight to the death, but earlier on Sunday 30 militants were killed trying to escape across the Tigris river, which cuts through the city’s centre, Iraqi military spokesman Brig Gen Yahya Rasool told state TV.

The last weeks of fighting has been intense street to street battles, as Iraqi forces moved into the old city where they faced an enemy who had spent months preparing layers of barricades and booby traps, as well as a cadre of suicide attackers.

The cornered militants sent bombers to play dead in the street until government forces approached, or dispatched female suicide bombers to hide among civilians fleeing the fighting.

Even in the last days of the campaign thousands of civilians had emerged from the city seeking help – wounded, malnourished and fearful after months effectively under siege.

The campaign began in the middle of August 2016, and at the time some in the US administration of Barack Obama thought they might be able to claim victory before he stepped down from office in January.

But Iraqi forces faced much stiffer resistance than anticipated and the bloody campaign extended far into 2017, taking a heavy toll.

The Iraqi government does not provide casualty figures, but the US Department of Defense has said the special forces spearheading the fight lost up to 40% of their fighters, Reuters reported.



However, the campaign has proved an important boost to morale that was badly damaged when Mosul fell. The Iraqi army collapsed in the face of Islamic State’s 2014 advance, effectively handing Iraq’s second city to a vastly outnumbered force, along with huge amounts of weapons and equipment.

It became a lucrative hub for the group, who raided the central bank, based much of the leadership and many foreign fighters there, and used it to launch their brutal trade in Yazidi women for rape as sex slaves.

Religious minorities fled or paid a tax, while Sunni Muslims had to adhere to the group’s harsh rules on everything from smoking to women’s dress.

Mosul’s collapse means Islamic State’s remaining urban centre is the Syrian city of Raqqa, also under heavy pressure from US-backed forces and expected to fall soon. But defeat in the cities of Iraq and Syria, while a blow to the group, will not mark their total defeat.

Its roots was as a ruthless insurgent group and Isis is expected to carry on harrying Iraqi civilians and forces from its desert bases and using underground cells in Mosul and other cities.

The Iraqi military is expected to continue to rely on US backing that was crucial to the campaign, with over $1.2bn (£0.9bn) in budget funds requested for 2018, to continue supporting Iraqi forces.

But Baghdad is also likely to need money for rebuilding, which the United Nations estimates will cost over $1bn.

The intensity of the fighting means few areas are not pockmarked with damaged and collapsed buildings, and Isis deliberately destroyed some infrastructure from libraries to mosques. Even areas that are still standing may be laced with bombs, and need a painstaking and expensive mine-clearing team to make them safe.

Rebuilding the communities that made up the city will also be difficult. The Ninevah plains where Mosul sits has long been known for its diversity, but Isis rule and the long battle to reclaim the city has exposed and, in some cases, exacerbated ethnic and sectarian fractures.