Soldiers of the Iraqi Counter Terrorism Service walk next to the bodies of Islamic State militants in the Old City of Mosul, Iraq, July 9, 2017. (Photo: Alaa Al-Marjani/Reuters)

MOSUL, Iraq — Bodies of dead Islamic State fighters still lay in the streets of west Mosul. Severed limbs from corpses were burnt, charred and strewn among the rubble of destroyed houses. The stench of death, a mixture of bodily waste and rotting flesh, mingled with the smell of garbage that hung in the air. The only way to cope with the nausea was to avoid deep breaths and take small sips of flavored sodium water from a plastic bottle that was melting in the broiling sun. But the stench was not the only thing the dead ISIS fighters left behind.

As Iraqi forces extend their control over the city, killing or chasing away remaining ISIS fighters, they encounter reminders of the regime imposed by the militant cleric Abu Bakr al-Baghdadi, who declared a new Islamic caliphate at the Great Mosque of al-Nuri. Meant to be a new era and empire, it has fallen in just three years. Al-Baghdadi himself has been reported killed, although his death has not been confirmed.

The ISIS fighters have continued to resist even after the battle was lost, rocking the city with explosions that shattered ancient structures and sent debris flying to land in heaps on the streets.

Iraqi forces listening in on ISIS radio transmissions heard signs of dissent and chaos in the ranks. The militants argued over which brigade had more men, who was most badly injured and whom they should leave behind. Their injuries went largely unattended and open to infection. They were weak, their morale low, and Iraqi forces knew they could take advantage of their weaknesses.

Wahlid, an Iraqi special-forces soldier, told me, “They’re fighting their hardest,” then he added, “but among themselves they have disputes.”

In a dimly lit room in a house near the front lines used as a base by Iraqi special forces, Wahlid told stories about listening to ISIS. The air conditioning was on full blast inside the house. He sat on a couch, drinking energy drinks and smoking cigarettes. An old walkie-talkie on an end table next to him crackled with voices chattering back and forth. An Iraqi commander shouted, “Get the Humvees out; find a safe place.” ISIS had coordinates for Iraqi soldiers in another neighborhood, and he was telling them to move before ISIS attacked.

Related slideshow: In Mosul, the war is never over, even when the shooting stops >>>

Wahlid laughed and with a smirk told what he considered a humorous story about an ISIS suicide bomber stranded in his explosive-filled car in the middle of the road. “The [Iraqi] soldiers shot at him,” Wahlid said. “His car broke down, he pressed the button and it didn’t work. So the militant who was in the car called on the radio back to the other [ISIS] militants, telling them, ‘The infidels broke down my car, but I can’t make it explode, I cannot blow it up because the button does not work. If you have any other way, brothers, blow it up, I want to blow up the car on the infidels.’”

Iraqi forces called for an airstrike. The car blew up.

ISIS fighters left behind a legacy of self-inflicted martyrdom, expecting rewards in heaven if they died fighting their alleged enemies. They saw themselves as heroes. The world did not agree.

Many came from other countries, tens of thousands of them who left behind a life they knew for a desert they didn’t know. Perhaps some of them left their homes for money, or a chance to be part of history. But the history they created is still desperate to leave them behind.

Many times, soldiers on the front lines admitted they couldn’t understand the ISIS fighters. They spoke different languages. Troops reported chatter in what they thought was Russian, Turkish and an Eastern language they couldn’t identify. One of the soldiers from the Najaf battalion, Rami, said that he was ethnically Turkmen and that sometimes he could understand the Turkish ISIS fighters.

A German ID card left behind by ISIS militants. (Photo: Ash Gallagher for Yahoo News) The fighters also left behind their identities and documents. An Iraqi soldier said that while fighting at the front line, he noticed a woman in a black robe and hijab, a scarf around her head. He caught her eye. “I waved for her to run toward me,” he said. He thought she was a civilian trying to escape. But when she moved along the wall in front of her house, he realized she was hiding an M-16 beneath her clothes. She realized she was exposed and fled. The soldier said she got away. He never said why he didn’t shoot. But when he approached the house later, he found her identification. She had a German name on a German ID card. He also found a marriage certificate, issued by ISIS. She was married to a Russian fighter. What they left behind was a marriage that would never be recognized anywhere else. ISIS created its own system, its own contracts, records that are meaningless to a world that would never recognize the Islamic State. ISIS had its own religious police, too, and “punishment officers,” who would correct or even arrest civilians who didn’t follow their rules and laws. One member of ISIS left his officer’s vest in the streets. And when they fled, ISIS fighters left behind their weapons. Iraqi soldiers picked up weapons throughout the fight, some made in ISIS bomb factories, including mortars and rockets, and old Soviet-era rocket-propelled grenades that ISIS modified and improved. If the weapons were functional, Iraqis repurposed them and killed ISIS fighters with their own weapons. Wahlid demonstrated an RPG-7. “They have made some updates to it,” he said. “They’ve mixed the powder, and the wings [they added] will make it fly.” Mortars left by ISIS in a house near the Old City in Mosul, Iraq. (Photo: Ash Gallagher for Yahoo News) Some ISIS rebels weren’t killed by Iraqi forces or their own weapons but instead were caught and arrested. They were sent to intelligence battalions to be interrogated. At a small base on the outskirts of Mosul’s Old City, Iraqi intelligence officers allowed foreign journalists limited access to several suspects in custody. Bearded, with zip ties around their hands, the captured fighters were ushered back and forth between rooms. Some of the men’s eyes looked young, some old, but all seemed worn out and solemn. An intelligence officer pointed to one man and said he “knew” the man was ISIS because he had “confessed.” But of all that ISIS left behind, most of all the armed group left Iraqi citizens grieving, even those who sympathized with the Sunni-linked fighters as a way to resist what they saw as an oppressive Shia-majority government. Even they had turned against ISIS, after three years of living under its governance. The civilians who fled left behind everything they owned. They left behind loved ones whom they will never get to bury. They left photos of their mothers and fathers, taken in the days before the war and occupation. Photos left behind in the Old City of Mosul, at a house occupied by ISIS, perhaps dropped in a moment of desperation. (Photos: Ash Gallagher for Yahoo News) Shoes, scarves, T-shirts and dresses littered the streets. White flags still hung on the doors. Families believed that if they hung white cloth on their doors they might be safe. The Iraqi soldiers assured the people of Mosul that the white flags would signal they were on the government side and against ISIS. The civilians didn’t want to be arrested or questioned; they wanted to escape. But as the city grew more dangerous, the white flags were not enough to save them. A new order came down from the Iraqi forces: run. So they ran. And they left their flags behind, hung from the ruins of their devastated city, once a thriving metropolis in the very cradle of civilization. Ash Gallagher is a journalist covering the Mideast for Yahoo News. Senate GOP pushes health care bill to the right and vows to vote next week In debate over political speech, pastors say they fear the IRS ‘pulpit police’